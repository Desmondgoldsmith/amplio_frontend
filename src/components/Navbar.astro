---
const navItems = [
  { 
    label: "ABOUT",
    hasDropdown: true,
    dropdownItems: [
      { label: "About Us", href: "/about-us" },
      { label: "Our Team", href: "/team" },
      { label: "Board of Directors", href: "/board-of-directors" },
      { label: "Programs", href: "/amplio-ghana" },
      { label: "Global Partners", href: "/partners" },
      { label: "Financials", href: "/financial-and-990s"}
    ]
  },
  { 
    label: "SOLUTIONS", 
    hasDropdown: true,
    dropdownItems: [
      { label: "Why Talking Book", href: "/why-talking-books" },
      { label: "Our Technology", href: "/technology" },
      { label: "Basic Service Package", href: "/basic-service-package" },
      { label: "Consulting Services", href: "/consulting-services" },
      { label: "SBC Impact Designer", href: "/sbc" },
      { label: "Ways To Listen", href: "/ways-to-listen" },
    ]
  },
  { label: "IMPACT", href: "/impact" },
  { label: "BLOG", href: "/blog" },
  { 
    label: "RESOURCES",
    href: "/resources",
    hasDropdown: true,
    dropdownItems: [
      { label: "Case Studies", href: "/case-studies" },
      { label: "videos", href: "/videos" },
      { label: "Gudies and Brochures", href: "/guides-and-brochures" }
      { label: "Press", href: "/press" }
    ]
  },
  { label: "CONTACT", href: "/contact" },
];
---

<nav class="fixed w-full bg-white z-50 border-b border-gray-300">
  <div class="max-w-[2000px] mx-auto px-56">
    <div class="flex justify-between  h-28">
      <!-- Logo -->
      <a href="/" class="flex items-center">
        <img src="/assets/homepageAssets/logo.png" alt="Amplio Logo" class="h-16" />
      </a>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex items-center space-x-4">
        {
          navItems.map((item) => (
            <div class="relative group">
              <a
               href={item.href}
                class="text-gray-700 hover:text-emerald-600 text-[14px] transition-colors font-semibold flex items-center"
              >
                {item.label}
                {item.hasDropdown && (
                  <svg 
                    class="w-4 h-4 ml-1" 
                    fill="none" 
                    stroke="currentColor" 
                    viewBox="0 0 24 24"
                  >
                    <path 
                      stroke-linecap="round" 
                      stroke-linejoin="round" 
                      stroke-width="2" 
                      d="M19 9l-7 7-7-7"
                    />
                  </svg>
                )}
              </a>
              
              {item.hasDropdown && (
                <div class="absolute top-full left-0 mt-2 w-48 bg-white shadow-lg rounded-md opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
                  {item.dropdownItems.map((dropdownItem) => (
                    <a
                      href={dropdownItem.href}
                      class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-emerald-600"
                    >
                      {dropdownItem.label}
                    </a>
                  ))}
                </div>
              )}
            </div>
          ))
        }
        <a
          href="/donate"
          class="bg-[#EE8060] text-white px-8 py-3 rounded-md hover:bg-[#ff4a33] transition-colors"
        >
          DONATE
        </a>
      </div>

      <!-- Mobile Menu Button -->
      <button class="md:hidden p-2" id="mobile-menu-button">
        <svg
          class="w-6 h-6"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"
          />
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div
    class="md:hidden hidden absolute top-full left-0 w-full bg-white shadow-lg"
    id="mobile-menu"
  >
    <div class="px-16 py-4">
      {
        navItems.map((item) => (
          <div class="py-2">
            <button
              class="w-full text-left flex items-center justify-between text-gray-700 hover:text-emerald-600"
              onclick={`toggleMobileDropdown('${item.label}')`}
            >
              {item.label}
              {item.hasDropdown && (
                <svg 
                  class="w-4 h-4" 
                  fill="none" 
                  stroke="currentColor" 
                  viewBox="0 0 24 24"
                >
                  <path 
                    stroke-linecap="round" 
                    stroke-linejoin="round" 
                    stroke-width="2" 
                    d="M19 9l-7 7-7-7"
                  />
                </svg>
              )}
            </button>
            {item.hasDropdown && (
              <div
                class="hidden pl-4 mt-2 space-y-2"
                id={`mobile-dropdown-${item.label}`}
              >
                {item.dropdownItems.map((dropdownItem) => (
                  <a
                    href={dropdownItem.href}
                    class="block py-2 text-sm text-gray-600 hover:text-emerald-600"
                  >
                    {dropdownItem.label}
                  </a>
                ))}
              </div>
            )}
          </div>
        ))
      }
      <a
        href="/donate"
        class="block mt-4 bg-[#FF5843] text-white px-6 py-3 rounded-md hover:bg-[#ff4a33] text-center"
      >
        DONATE
      </a>
    </div>
  </div>
</nav>

<script>
  // Mobile menu toggle
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  mobileMenuButton?.addEventListener('click', () => {
    mobileMenu?.classList.toggle('hidden');
  });

  // Mobile dropdown toggle
  function toggleMobileDropdown(label: string) {
    const dropdown = document.getElementById(`mobile-dropdown-${label}`);
    dropdown?.classList.toggle('hidden');
  }

  // Make the function available globally
  window.toggleMobileDropdown = toggleMobileDropdown;
</script>